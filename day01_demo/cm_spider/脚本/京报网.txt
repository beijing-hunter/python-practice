{\rtf1\ansi\ansicpg936\cocoartf2511
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;\f1\fnil\fcharset134 PingFangSC-Regular;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\paperw11900\paperh16840\margl1440\margr1440\vieww10800\viewh8400\viewkind0
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardirnatural\partightenfactor0

\f0\fs24 \cf0 // ==UserScript==\
// @name         
\f1 \'be\'a9\'b1\'a8\'cd\'f8
\f0 \
// @namespace    http://tampermonkey.net/\
// @version      0.1\
// @description  try to take over the world!\
// @author       You\
// @match        http://www.bjd.com.cn/*\
// @grant        none\
// ==/UserScript==\
\
(function() \{\
     'use strict';\
     var datas=[];\
    var timeIntervalValue;\
    var timeIntervalPageValue;\
    var countIndex=0;\
\
    $("[class='havepic']").before("<a id='exportData' href='#' class='b-s-contain showSendMsg'><i class='iconfont goHomeIcon'>
\f1 \'a4\'e4
\f0 </i><span>
\f1 \'ca\'fd\'be\'dd\'b5\'bc\'b3\'f6
\f0 </span></a>");\
    $("[class='havepic']").before("<a id='exportDataSartTime' href='#' class='b-s-contain showSendMsg'><i class='iconfont goHomeIcon'>
\f1 \'a4\'e4
\f0 </i><span>
\f1 \'bf\'aa\'ca\'bc\'ca\'d5\'bc\'af\'ca\'fd\'be\'dd
\f0 </span></a>");\
    $("#exportData").bind('click',function()\{\
\
\
\
        filterContent();\
\
\
\
    \});\
     $("#exportDataSartTime").bind('click',function()\{\
\
          datas=[];\
\
\
            forExportData();\
            exportData(JSON.stringify(datas),"16");\
\
\
    \});\
        timeIntervalValue=setInterval(function () \{\
           $("#exportDataSartTime").click();\
\
        \}, 4000);\
\
\
\
\
\
    function forExportData()\{\
        $(".havepicnews").find(".havepicwen").each(function(index,ob)\{\
            var hrefValue=$(ob).find("a").attr("href");\
            var titleValue=$(ob).find("a").text();\
            var hrefs=hrefValue.split("/");\
            var platformPostToken=hrefs[hrefs.length-1];\
            var platformId=16;\
\
            if(countIndex<=10)\{\
                var data=\{"title":titleValue,"linkUrl":hrefValue,"platformId":platformId,"platformPostToken":platformPostToken\};\
                datas.push(data);\
                console.log(JSON.stringify(data));\
                countIndex++;\
            \}else\{\
                clearInterval(timeIntervalValue);\
            \}\
\
\
\
        \});\
    \}\
\
    function filterContent()\{\
\
\
    \}\
\
    function page()\{\
\
       window.scrollTo(0,document.body.scrollHeight);\
    \}\
\
    //
\f1 \'ca\'fd\'be\'dd\'cf\'c2\'d4\'d8\'b5\'bd\'b1\'be\'b5\'d8
\f0 \
    function exportData(datas,platformId)\{\
        var content =datas;\
        var eleLink = document.createElement('a');\
        let date = new Date();\
        var dateStr=dateFormat("YYYY-mm-dd HH:MM", date)\
        eleLink.download = platformId+"_"+dateStr+".txt";\
        eleLink.style.display = 'none';\
        // 
\f1 \'d7\'d6\'b7\'fb\'c4\'da\'c8\'dd\'d7\'aa\'b1\'e4\'b3\'c9
\f0 blob
\f1 \'b5\'d8\'d6\'b7
\f0 \
        var blob = new Blob([content]);\
        eleLink.href = URL.createObjectURL(blob);\
        // 
\f1 \'b4\'a5\'b7\'a2\'b5\'e3\'bb\'f7
\f0 \
        document.body.appendChild(eleLink);\
        eleLink.click();\
        // 
\f1 \'c8\'bb\'ba\'f3\'d2\'c6\'b3\'fd
\f0 \
        document.body.removeChild(eleLink);\
    \}\
\
    function dateFormat(fmt, date) \{\
    let ret;\
    const opt = \{\
        "Y+": date.getFullYear().toString(),        // 
\f1 \'c4\'ea
\f0 \
        "m+": (date.getMonth() + 1).toString(),     // 
\f1 \'d4\'c2
\f0 \
        "d+": date.getDate().toString(),            // 
\f1 \'c8\'d5
\f0 \
        "H+": date.getHours().toString(),           // 
\f1 \'ca\'b1
\f0 \
        "M+": date.getMinutes().toString(),         // 
\f1 \'b7\'d6
\f0 \
        "S+": date.getSeconds().toString()          // 
\f1 \'c3\'eb
\f0 \
        // 
\f1 \'d3\'d0\'c6\'e4\'cb\'fb\'b8\'f1\'ca\'bd\'bb\'af\'d7\'d6\'b7\'fb\'d0\'e8\'c7\'f3\'bf\'c9\'d2\'d4\'bc\'cc\'d0\'f8\'cc\'ed\'bc\'d3\'a3\'ac\'b1\'d8\'d0\'eb\'d7\'aa\'bb\'af\'b3\'c9\'d7\'d6\'b7\'fb\'b4\'ae
\f0 \
    \};\
    for (let k in opt) \{\
        ret = new RegExp("(" + k + ")").exec(fmt);\
        if (ret) \{\
            fmt = fmt.replace(ret[1], (ret[1].length == 1) ? (opt[k]) : (opt[k].padStart(ret[1].length, "0")))\
        \};\
    \};\
    return fmt;\
\}\
\
\})();}